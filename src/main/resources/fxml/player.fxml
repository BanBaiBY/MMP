<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.media.MediaView?>
<?import javafx.geometry.Pos?>
<?import javafx.scene.shape.Polygon?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.control.TextField?>

<BorderPane xmlns="http://javafx.com/javafx/17.0.17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.multimediaplayer.PlayerController"
            prefWidth="800.0" prefHeight="600.0"
            fx:id="rootPane"
            style="-fx-background-color: #000000;">

    <!-- é¡¶éƒ¨å¯¼èˆªæ ï¼ˆæ•´åˆä¸¤ä¸ªæ–‡ä»¶åŠŸèƒ½ï¼Œä¿ç•™æ–°å¢žæ’­æ”¾åˆ—è¡¨ç›¸å…³æŒ‰é’®ï¼‰ -->
    <top>
        <HBox fx:id="topNavi"
              spacing="15.0"
              alignment="CENTER_LEFT"
              style="-fx-background-color: linear-gradient(to right, #444444, #555555);
                     -fx-background-radius: 0 0 8px 8px;
                     -fx-effect: dropshadow(gaussian, #000000, 5, 0, 0, 2);
                     -fx-border-width: 0 0 1px 0;
                     -fx-border-color: #333333;"
              prefHeight="40.0"
              minHeight="40.0">
            <padding>
                <Insets top="0" right="10" bottom="0" left="10"/>
            </padding>
            <children>
                <Button fx:id="openBtn"
                        text="ðŸ“‚ é€‰æ‹©åª’ä½“æ–‡ä»¶"
                        prefWidth="120.0"
                        prefHeight="30.0"
                        style="-fx-background-color: #363636;
                               -fx-text-fill: #ffffff;
                               -fx-font-family: 'Microsoft YaHei';
                               -fx-font-size: 13px;
                               -fx-background-radius: 6px;
                               -fx-cursor: hand;
                               -fx-padding: 0 10px;
                               -fx-border-width: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>
                <Button fx:id="removeFromPlaylistBtn"
                        text="âž– ç§»é™¤é€‰ä¸­"
                        prefWidth="100.0"
                        prefHeight="30.0"
                        style="-fx-background-color: #363636;
                               -fx-text-fill: #ffffff;
                               -fx-font-family: 'Microsoft YaHei';
                               -fx-font-size: 13px;
                               -fx-background-radius: 6px;
                               -fx-cursor: hand;
                               -fx-padding: 0 10px;
                               -fx-border-width: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>
                <Button fx:id="clearPlaylistBtn"
                        text="ðŸ—‘ï¸ æ¸…ç©ºåˆ—è¡¨"
                        prefWidth="100.0"
                        prefHeight="30.0"
                        style="-fx-background-color: #363636;
                               -fx-text-fill: #ffffff;
                               -fx-font-family: 'Microsoft YaHei';
                               -fx-font-size: 13px;
                               -fx-background-radius: 6px;
                               -fx-cursor: hand;
                               -fx-padding: 0 10px;
                               -fx-border-width: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>
                <ToggleButton fx:id="playlistToggleBtn"
                              text="â‰¡"
                              style="-fx-background-color: #363636;
                                     -fx-text-fill: #ffffff;
                                     -fx-font-size: 16px;
                                     -fx-pref-width: 40px;
                                     -fx-pref-height: 30px;
                                     -fx-border-width: 0;
                                     -fx-cursor: hand;
                                     -fx-background-radius: 6px;
                                     -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"
                              alignment="CENTER"/>

                <Label fx:id="fileNameLabel"
                       text="æœªé€‰æ‹©æ–‡ä»¶"
                       style="-fx-text-fill: #cccccc;
                              -fx-font-family: 'Microsoft YaHei';
                              -fx-font-size: 13px;
                              -fx-padding: 0 10px;
                              -fx-text-overrun: ellipsis;"
                       HBox.hgrow="ALWAYS"/>
            </children>
        </HBox>
    </top>

    <!-- ä¸­é—´åª’ä½“åŒºåŸŸ + æŠ˜å æ’­æ”¾åˆ—è¡¨ï¼ˆæ²¿ç”¨ç¬¬äºŒä¸ªæ–‡ä»¶ç»“æž„ï¼Œæ•´åˆç¬¬ä¸€ä¸ªæ–‡ä»¶åª’ä½“å®¹å™¨å†…å®¹ï¼‰ -->
    <center>
        <StackPane minWidth="0" minHeight="0">
            <!-- åª’ä½“æ’­æ”¾å®¹å™¨ï¼ˆä¿ç•™ç¬¬ä¸€ä¸ªæ–‡ä»¶æ ¸å¿ƒé…ç½®ï¼Œç»Ÿä¸€blackMaskä¸ºfalseç”±æŽ§åˆ¶å™¨æŽ§åˆ¶ï¼‰ -->
            <StackPane fx:id="mediaContainer"
                       style="-fx-background-color: black;"
                       minWidth="0" minHeight="0">
                <alignment>
                    <Pos fx:constant="CENTER"/>
                </alignment>
                <children>
                    <MediaView fx:id="mediaView"
                               preserveRatio="true"
                               fitWidth="${mediaContainer.width}"
                               fitHeight="${mediaContainer.height}"/>
                    <Rectangle fx:id="blackMask"
                               width="${mediaContainer.width}"
                               height="${mediaContainer.height}"
                               fill="black"
                               visible="false"/> <!-- ç»Ÿä¸€ä¸ºfalseï¼Œç”±æŽ§åˆ¶å™¨æŽ§åˆ¶ -->
                    <ImageView fx:id="bgImage"
                               preserveRatio="true"
                               pickOnBounds="false"
                               fitWidth="0" fitHeight="0"/>
                    <Polygon fx:id="centerPlayIcon"
                             points="0.0,0.0, 0.0,60.0, 80.0,30.0"
                             fill="rgba(255,255,255,0.7)"
                             smooth="true"
                             visible="false"
                             StackPane.alignment="CENTER"/>
                </children>
            </StackPane>

            <!-- æ’­æ”¾åˆ—è¡¨å®¹å™¨ï¼ˆä¿ç•™ç¬¬äºŒä¸ªæ–‡ä»¶å®Œæ•´ç»“æž„ï¼‰-->
            <VBox fx:id="playlistContainer"
                  style="-fx-background-color: rgba(34, 34, 34, 0.95);
                         -fx-border-width: 0 0 0 1px;
                         -fx-border-color: rgba(68, 68, 68, 0.9);
                         -fx-effect: dropshadow(gaussian, #000000, 10, 0, 0, 3);"
                  prefWidth="280.0"
                  minWidth="0"
                  maxWidth="280.0"
                  StackPane.alignment="CENTER_RIGHT"
                  visible="false">
                <children>
                    <HBox alignment="CENTER_LEFT"
                          style="-fx-background-color: rgba(51, 51, 51, 0.95);
                                 -fx-padding: 8px 10px;">
                        <children>
                            <Label text="ðŸŽµ æ’­æ”¾åˆ—è¡¨"
                                   style="-fx-text-fill: #ffffff;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 14px;
                                          -fx-font-weight: bold;"/>
                            <HBox HBox.hgrow="ALWAYS"/>
                            <Label fx:id="playlistCountLabel"
                                   text="0 é¦–"
                                   style="-fx-text-fill: #aaaaaa;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 12px;"/>
                        </children>
                    </HBox>

                    <!-- æœç´¢æ¡† -->
                    <HBox style="-fx-padding: 5px 10px;"
                          alignment="CENTER">
                        <TextField fx:id="searchField"
                                   promptText="æœç´¢..."
                                   prefWidth="260.0"
                                   style="-fx-background-color: rgba(60, 60, 60, 0.8);
                                          -fx-text-fill: #ffffff;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 13px;
                                          -fx-background-radius: 4px;
                                          -fx-border-color: rgba(80, 80, 80, 0.8);
                                          -fx-border-radius: 4px;
                                          -fx-border-width: 1px;
                                          -fx-padding: 3px 8px;"/>
                    </HBox>

                    <ListView fx:id="playlistView"
                              style="-fx-background-color: transparent;
                                     -fx-control-inner-background: transparent;
                                     -fx-background-insets: 0;
                                     -fx-padding: 0;
                                     -fx-border-width: 0;
                                     -fx-selection-bar: rgba(30, 144, 255, 0.8);
                                     -fx-selection-bar-non-focused: rgba(30, 144, 255, 0.8);
                                     -fx-cell-hover-color: rgba(51, 51, 51, 0.6);
                                     -fx-cell-focus-inner-border: transparent;
                                     -fx-focus-color: transparent;
                                     -fx-faint-focus-color: transparent;
                                     -fx-border-color: transparent;
                                     -fx-border-insets: 0;
                                     -fx-background-radius: 0;
                                     -fx-border-radius: 0;"
                              VBox.vgrow="ALWAYS">
                        <!-- è‡ªå®šä¹‰åˆ—è¡¨é¡¹æ ·å¼ -->
                        <placeholder>
                            <Label text="æ’­æ”¾åˆ—è¡¨ä¸ºç©º"
                                   style="-fx-text-fill: #888888;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 13px;
                                          -fx-alignment: center;
                                          -fx-padding: 20px;"/>
                        </placeholder>
                    </ListView>
                </children>
            </VBox>
        </StackPane>
    </center>

    <!-- åº•éƒ¨æŽ§åˆ¶æ ï¼ˆæ•´åˆä¸¤ä¸ªæ–‡ä»¶åŠŸèƒ½ï¼Œä¿ç•™å¿«è¿›/åŽé€€/å€é€ŸæŒ‰é’®ï¼Œç»Ÿä¸€æ ·å¼å†™æ³•ï¼‰ -->
    <bottom>
        <VBox fx:id="bottomContainer"
              spacing="2.0"
              style="-fx-background-color: transparent;">
            <HBox fx:id="progressContainer"
                  spacing="8.0"
                  alignment="CENTER_LEFT"
                  style="-fx-padding: 2 10 2 10;">
                <Text fx:id="currentTimeLabel"
                      text="00:00"
                      style="-fx-fill: #ffffff;
                             -fx-font-size: 12px;
                             -fx-font-family: 'Microsoft YaHei';
                             -fx-min-width: 50px;
                             -fx-text-alignment: right;"/>
                <Slider fx:id="progressSlider"
                        min="0.0" max="1.0" value="0.0"
                        HBox.hgrow="ALWAYS"
                        minWidth="0.0"/>
                <Text fx:id="totalTimeLabel"
                      text="00:00"
                      style="-fx-fill: #ffffff;
                             -fx-font-size: 12px;
                             -fx-font-family: 'Microsoft YaHei';
                             -fx-min-width: 50px;
                             -fx-text-alignment: left;"/>
            </HBox>

            <StackPane fx:id="bottomNavi"
                       style="-fx-background-color: linear-gradient(to bottom, #555555, #444444);
                              -fx-border-color: #666666 transparent transparent transparent;
                              -fx-border-width: 1px 0 0 0;
                              -fx-effect: innershadow(gaussian, #222222, 5, 0, 0, 2), dropshadow(gaussian, #000000, 3, 0, 0, 1);"
                       prefHeight="40.0"
                       minHeight="40.0">
                <padding>
                    <Insets top="5.0" right="20.0" bottom="5.0" left="20.0"/>
                </padding>

                <!-- å¿«è¿›/åŽé€€+æ’­æ”¾æš‚åœæŒ‰é’®å®¹å™¨ï¼ˆä¿ç•™ç¬¬ä¸€ä¸ªæ–‡ä»¶åŠŸèƒ½ï¼Œè°ƒæ•´æ’­æ”¾æŒ‰é’®å°ºå¯¸é€‚é…ï¼‰ -->
                <HBox fx:id="playControlBox"
                      spacing="8.0"
                      alignment="CENTER"
                      StackPane.alignment="CENTER"
                      layoutX="-40.0">
                    <!-- åŽé€€30ç§’æŒ‰é’® -->
                    <Button fx:id="rewindBtn"
                            prefWidth="40.0" prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                               -fx-border-width: 0;
                               -fx-cursor: hand;
                               -fx-padding: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                    <!-- æ’­æ”¾/æš‚åœæŒ‰é’®ï¼ˆæ•´åˆå°ºå¯¸ï¼Œå…¼é¡¾ä¸¤ä¸ªæ–‡ä»¶æ ·å¼ï¼‰ -->
                    <Button fx:id="playPauseBtn"
                            prefWidth="50.0" prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                               -fx-border-width: 0;
                               -fx-cursor: hand;
                               -fx-padding: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                    <!-- å¿«è¿›30ç§’æŒ‰é’® -->
                    <Button fx:id="forwardBtn"
                            prefWidth="40.0" prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                               -fx-border-width: 0;
                               -fx-cursor: hand;
                               -fx-padding: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>
                </HBox>

                <!-- å€é€ŸæŒ‰é’®ï¼ˆä¿ç•™ç¬¬ä¸€ä¸ªæ–‡ä»¶åŠŸèƒ½ï¼‰ -->
                <Button fx:id="speedBtn"
                        prefWidth="60.0" prefHeight="30.0"
                        alignment="CENTER"
                        StackPane.alignment="CENTER_LEFT"
                        layoutX="80.0"
                        style="-fx-background-color: #363636;
                           -fx-text-fill: #ffffff;
                           -fx-font-family: 'Microsoft YaHei';
                           -fx-font-size: 13px;
                           -fx-background-radius: 6px;
                           -fx-cursor: hand;
                           -fx-padding: 0 10px;
                           -fx-border-width: 0;
                           -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                <HBox alignment="CENTER_RIGHT"
                      StackPane.alignment="CENTER_RIGHT"
                      style="-fx-background-radius: 3px;"
                      prefWidth="100.0"
                      maxWidth="100.0">
                    <children>
                        <Slider fx:id="volumeSlider"
                                min="0.0" max="1.0" value="0.5"
                                prefWidth="100.0"
                                style="-fx-padding: 0 0 0 0;"/>
                    </children>
                </HBox>
            </StackPane>
        </VBox>
    </bottom>
</BorderPane>
