<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.media.MediaView?>
<?import javafx.geometry.Pos?>
<?import javafx.scene.shape.Polygon?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ComboBox?>

<!-- æ’­æ”¾å™¨ä¸»å¸ƒå±€ï¼šé‡‡ç”¨BorderPaneåˆ†ä¸Šã€ä¸­ã€ä¸‹ä¸‰åŒºåŸŸå¸ƒå±€ -->
<BorderPane xmlns="http://javafx.com/javafx/17.0.17"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.multimediaplayer.PlayerController"
            prefWidth="800.0"
            prefHeight="600.0"
            fx:id="rootPane"
            style="-fx-background-color: #000000;">

    <!-- é¡¶éƒ¨å¯¼èˆªæ ï¼šåŒ…å«æ–‡ä»¶æ“ä½œã€æ’­æ”¾åˆ—è¡¨ç®¡ç†ã€ä¸»é¢˜åˆ‡æ¢åŠŸèƒ½ -->
    <top>
        <HBox fx:id="topNavi"
              spacing="15.0"
              alignment="CENTER_LEFT"
              style="-fx-background-color: linear-gradient(to right, #444444, #555555);
                     -fx-background-radius: 0 0 8px 8px;
                     -fx-effect: dropshadow(gaussian, #000000, 5, 0, 0, 2);
                     -fx-border-width: 0 0 1px 0;
                     -fx-border-color: #333333;"
              prefHeight="40.0"
              minHeight="40.0">
            <padding>
                <Insets top="0" right="10" bottom="0" left="10"/>
            </padding>
            <children>
                <!-- é€‰æ‹©åª’ä½“æ–‡ä»¶æŒ‰é’® -->
                <Button fx:id="openBtn"
                        text="ðŸ“‚ é€‰æ‹©åª’ä½“æ–‡ä»¶"
                        prefWidth="120.0"
                        prefHeight="30.0"
                        style="-fx-background-color: #363636;
                               -fx-text-fill: #ffffff;
                               -fx-font-family: 'Microsoft YaHei';
                               -fx-font-size: 13px;
                               -fx-background-radius: 6px;
                               -fx-cursor: hand;
                               -fx-padding: 0 10px;
                               -fx-border-width: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                <!-- æ–°å¢žè®¾ç½®æŒ‰é’® -->
                <Button fx:id="settingsBtn"
                        text="è®¾ç½®"
                        prefWidth="80.0"
                        prefHeight="30.0"
                        style="-fx-background-color: #363636;
                               -fx-text-fill: #ffffff;
                               -fx-font-family: 'Microsoft YaHei';
                               -fx-font-size: 13px;
                               -fx-background-radius: 6px;
                               -fx-cursor: hand;
                               -fx-padding: 0 10px;
                               -fx-border-width: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                <!-- æ’­æ”¾åˆ—è¡¨å±•å¼€/æŠ˜å åˆ‡æ¢æŒ‰é’® -->
                <ToggleButton fx:id="playlistToggleBtn"
                              text="â‰¡"
                              style="-fx-background-color: #363636;
                                     -fx-text-fill: #ffffff;
                                     -fx-font-size: 16px;
                                     -fx-pref-width: 40px;
                                     -fx-pref-height: 30px;
                                     -fx-border-width: 0;
                                     -fx-cursor: hand;
                                     -fx-background-radius: 6px;
                                     -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"
                              alignment="CENTER"/>

                <!-- å½“å‰æ’­æ”¾æ–‡ä»¶åç§°æ˜¾ç¤ºæ ‡ç­¾ -->
                <Label fx:id="fileNameLabel"
                       text="æœªé€‰æ‹©æ–‡ä»¶"
                       style="-fx-text-fill: #cccccc;
                              -fx-font-family: 'Microsoft YaHei';
                              -fx-font-size: 13px;
                              -fx-padding: 0 10px;
                              -fx-text-overrun: ellipsis;"
                       HBox.hgrow="ALWAYS"/>

                <!-- ä¸»é¢˜åˆ‡æ¢ä¸‹æ‹‰æ¡†å®¹å™¨ -->
                <HBox alignment="CENTER" spacing="5.0">
                    <Label text="ä¸»é¢˜ï¼š"
                           style="-fx-text-fill: #cccccc;
                                  -fx-font-family: 'Microsoft YaHei';
                                  -fx-font-size: 13px;"/>
                    <ComboBox fx:id="themeComboBox"
                              prefWidth="120.0"
                              prefHeight="30.0"
                              style="-fx-background-color: #363636;
                                     -fx-text-fill: #ffffff;
                                     -fx-font-family: 'Microsoft YaHei';
                                     -fx-font-size: 12px;
                                     -fx-prompt-text-fill: #999999;
                                     -fx-control-inner-background: #363636;
                                     -fx-selection-bar: #505050;
                                     -fx-selection-bar-text: #ffffff;"/>
                </HBox>
            </children>
        </HBox>
    </top>

    <!-- ä¸­é—´æ ¸å¿ƒåŒºåŸŸï¼šåŒ…å«åª’ä½“æ’­æ”¾åŒºå’ŒæŠ˜å å¼æ’­æ”¾åˆ—è¡¨ -->
    <center>
        <StackPane minWidth="0" minHeight="0">
            <!-- åª’ä½“æ’­æ”¾å®¹å™¨ï¼šæ‰¿è½½è§†é¢‘/éŸ³é¢‘æ’­æ”¾ã€èƒŒæ™¯å›¾ã€é®ç½©å’Œä¸­å¿ƒæ’­æ”¾æŒ‰é’® -->
            <StackPane fx:id="mediaContainer"
                       style="-fx-background-color: black;"
                       minWidth="0"
                       minHeight="0">
                <alignment>
                    <Pos fx:constant="CENTER"/>
                </alignment>
                <children>
                    <!-- åª’ä½“è§†å›¾ï¼šç”¨äºŽæ˜¾ç¤ºè§†é¢‘å†…å®¹ï¼Œè‡ªåŠ¨é€‚é…å®¹å™¨å¤§å° -->
                    <MediaView fx:id="mediaView"
                               preserveRatio="true"
                               fitWidth="${mediaContainer.width}"
                               fitHeight="${mediaContainer.height}"/>
                    <!-- é»‘è‰²é®ç½©ï¼šç”¨äºŽä¼˜åŒ–è§†è§‰æ•ˆæžœï¼Œéžæ’­æ”¾çŠ¶æ€ä¸‹æ˜¾ç¤º -->
                    <Rectangle fx:id="blackMask"
                               width="${mediaContainer.width}"
                               height="${mediaContainer.height}"
                               fill="black"
                               visible="false"/>
                    <!-- èƒŒæ™¯å›¾ç‰‡ï¼šæ— åª’ä½“æ’­æ”¾æ—¶æ˜¾ç¤ºçš„é»˜è®¤èƒŒæ™¯ -->
                    <ImageView fx:id="bgImage"
                               preserveRatio="true"
                               pickOnBounds="false"
                               fitWidth="0"
                               fitHeight="0"/>
                    <!-- ä¸­å¿ƒæ’­æ”¾æŒ‰é’®ï¼šæ‚¬æµ®åœ¨åª’ä½“åŒºåŸŸä¸­å¤®çš„å¤§åž‹æ’­æ”¾è§¦å‘æŒ‰é’® -->
                    <Polygon fx:id="centerPlayIcon"
                             points="0.0,0.0, 0.0,60.0, 80.0,30.0"
                             fill="rgba(255,255,255,0.7)"
                             smooth="true"
                             visible="false"
                             StackPane.alignment="CENTER"/>
                </children>
            </StackPane>

            <!-- æŠ˜å å¼æ’­æ”¾åˆ—è¡¨å®¹å™¨ï¼šé»˜è®¤éšè—ï¼Œé€šè¿‡åˆ‡æ¢æŒ‰é’®å±•å¼€/æ”¶èµ· -->
            <VBox fx:id="playlistContainer"
                  style="-fx-background-color: rgba(34, 34, 34, 0.95);
                         -fx-border-width: 0 0 0 1px;
                         -fx-border-color: rgba(68, 68, 68, 0.9);
                         -fx-effect: dropshadow(gaussian, #000000, 10, 0, 0, 3);"
                  prefWidth="280.0"
                  minWidth="0"
                  maxWidth="280.0"
                  StackPane.alignment="CENTER_RIGHT"
                  visible="false">
                <children>
                    <!-- æ’­æ”¾åˆ—è¡¨æ ‡é¢˜æ ï¼šæ˜¾ç¤ºæ ‡é¢˜å’Œåª’ä½“æ•°é‡ç»Ÿè®¡ -->
                    <HBox alignment="CENTER_LEFT"
                          style="-fx-background-color: rgba(51, 51, 51, 0.95);
                                 -fx-padding: 8px 10px;">
                        <children>
                            <Label text="ðŸŽµ æ’­æ”¾åˆ—è¡¨"
                                   style="-fx-text-fill: #ffffff;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 14px;
                                          -fx-font-weight: bold;"/>
                            <HBox HBox.hgrow="ALWAYS"/>
                            <Label fx:id="playlistCountLabel"
                                   text="0 é¦–"
                                   style="-fx-text-fill: #aaaaaa;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 12px;"/>
                        </children>
                    </HBox>

                    <!-- æ’­æ”¾åˆ—è¡¨æœç´¢æ¡†ï¼šç”¨äºŽç­›é€‰åˆ—è¡¨ä¸­çš„åª’ä½“æ–‡ä»¶ -->
                    <HBox style="-fx-padding: 5px 10px;"
                          alignment="CENTER">
                        <TextField fx:id="searchField"
                                   promptText="æœç´¢..."
                                   prefWidth="260.0"
                                   style="-fx-background-color: rgba(60, 60, 60, 0.8);
                                          -fx-text-fill: #ffffff;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 13px;
                                          -fx-background-radius: 4px;
                                          -fx-border-color: rgba(80, 80, 80, 0.8);
                                          -fx-border-radius: 4px;
                                          -fx-border-width: 1px;
                                          -fx-padding: 3px 8px;"/>
                    </HBox>

                    <!-- æ’­æ”¾åˆ—è¡¨è§†å›¾ï¼šæ˜¾ç¤ºæ‰€æœ‰æ·»åŠ çš„åª’ä½“æ–‡ä»¶ï¼Œæ”¯æŒç‚¹å‡»æ’­æ”¾ -->
                    <ListView fx:id="playlistView"
                              style="-fx-background-color: transparent;
                                     -fx-control-inner-background: transparent;
                                     -fx-background-insets: 0;
                                     -fx-padding: 0;
                                     -fx-border-width: 0;
                                     -fx-selection-bar: rgba(30, 144, 255, 0.8);
                                     -fx-selection-bar-non-focused: rgba(30, 144, 255, 0.8);
                                     -fx-cell-hover-color: rgba(51, 51, 51, 0.6);
                                     -fx-cell-focus-inner-border: transparent;
                                     -fx-focus-color: transparent;
                                     -fx-faint-focus-color: transparent;
                                     -fx-border-color: transparent;
                                     -fx-border-insets: 0;
                                     -fx-background-radius: 0;
                                     -fx-border-radius: 0;"
                              VBox.vgrow="ALWAYS">
                        <!-- åˆ—è¡¨å ä½ç¬¦ï¼šåˆ—è¡¨ä¸ºç©ºæ—¶æ˜¾ç¤ºçš„æç¤ºæ–‡æœ¬ -->
                        <placeholder>
                            <Label text="æ’­æ”¾åˆ—è¡¨ä¸ºç©º"
                                   style="-fx-text-fill: #888888;
                                          -fx-font-family: 'Microsoft YaHei';
                                          -fx-font-size: 13px;
                                          -fx-alignment: center;
                                          -fx-padding: 20px;"/>
                        </placeholder>
                    </ListView>

                    <!-- æ’­æ”¾åˆ—è¡¨åº•éƒ¨æ“ä½œæŒ‰é’®ï¼ˆæ¥è‡ªç¬¬äºŒä¸ªFXMLçš„æ”¹è¿›ï¼‰ -->
                    <HBox fx:id="playlistActionBox"
                          spacing="8.0"
                          alignment="CENTER"
                          style="-fx-padding: 8px 10px;
                                 -fx-background-color: rgba(51, 51, 51, 0.95);
                                 -fx-border-width: 1px 0 0 0;
                                 -fx-border-color: rgba(68, 68, 68, 0.9);">
                        <children>
                            <Button fx:id="removeFromPlaylistBtn"
                                    text="âž– ç§»é™¤é€‰ä¸­"
                                    prefWidth="100.0"
                                    prefHeight="30.0"
                                    style="-fx-background-color: #363636;
                                           -fx-text-fill: #ffffff;
                                           -fx-font-family: 'Microsoft YaHei';
                                           -fx-font-size: 13px;
                                           -fx-background-radius: 6px;
                                           -fx-cursor: hand;
                                           -fx-padding: 0 10px;
                                           -fx-border-width: 0;
                                           -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>
                            <Button fx:id="clearPlaylistBtn"
                                    text="ðŸ—‘ï¸ æ¸…ç©ºåˆ—è¡¨"
                                    prefWidth="100.0"
                                    prefHeight="30.0"
                                    style="-fx-background-color: #363636;
                                           -fx-text-fill: #ffffff;
                                           -fx-font-family: 'Microsoft YaHei';
                                           -fx-font-size: 13px;
                                           -fx-background-radius: 6px;
                                           -fx-cursor: hand;
                                           -fx-padding: 0 10px;
                                           -fx-border-width: 0;
                                           -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>
                        </children>
                    </HBox>
                </children>
            </VBox>
        </StackPane>
    </center>

    <!-- åº•éƒ¨æŽ§åˆ¶æ ï¼šåŒ…å«æ’­æ”¾è¿›åº¦ã€æ—¶é•¿æ˜¾ç¤ºå’Œæ’­æ”¾åŠŸèƒ½æŽ§åˆ¶ -->
    <bottom>
        <VBox fx:id="bottomContainer"
              spacing="2.0"
              style="-fx-background-color: transparent;">
            <!-- è¿›åº¦æ¡ä¸Žæ—¶é•¿æ˜¾ç¤ºå®¹å™¨ï¼šå±•ç¤ºæ’­æ”¾è¿›åº¦å’Œå½“å‰/æ€»æ—¶é•¿ -->
            <HBox fx:id="progressContainer"
                  spacing="8.0"
                  alignment="CENTER_LEFT"
                  style="-fx-padding: 2 10 2 10;">
                <children>
                    <!-- å½“å‰æ’­æ”¾æ—¶é•¿æ˜¾ç¤ºå®¹å™¨ -->
                    <HBox prefWidth="50.0" alignment="CENTER_RIGHT">
                        <Text fx:id="currentTimeLabel" text="00:00"
                              style="-fx-fill: #ffffff;
                                     -fx-font-size: 12px;
                                     -fx-font-family: 'Microsoft YaHei';
                                     -fx-text-alignment: right;"/>
                    </HBox>
                    <!-- æ’­æ”¾è¿›åº¦æ»‘å—ï¼šå¯æ‹–åŠ¨è°ƒæ•´æ’­æ”¾ä½ç½® -->
                    <Slider fx:id="progressSlider"
                            min="0.0"
                            max="1.0"
                            value="0.0"
                            HBox.hgrow="ALWAYS"
                            minWidth="0.0"/>
                    <!-- åª’ä½“æ€»æ—¶é•¿æ˜¾ç¤ºå®¹å™¨ -->
                    <HBox prefWidth="50.0" alignment="CENTER_LEFT">
                        <Text fx:id="totalTimeLabel" text="00:00"
                              style="-fx-fill: #ffffff;
                                     -fx-font-size: 12px;
                                     -fx-font-family: 'Microsoft YaHei';
                                     -fx-text-alignment: left;"/>
                    </HBox>
                </children>
            </HBox>

            <!-- æ’­æ”¾æŽ§åˆ¶æŒ‰é’®å®¹å™¨ï¼šåŒ…å«æ’­æ”¾ã€åˆ‡æ­Œã€å€é€Ÿã€éŸ³é‡æŽ§åˆ¶ -->
            <StackPane fx:id="bottomNavi"
                       style="-fx-background-color: linear-gradient(to bottom, #555555, #444444);
                              -fx-border-color: #666666 transparent transparent transparent;
                              -fx-border-width: 1px 0 0 0;
                              -fx-effect: innershadow(gaussian, #222222, 5, 0, 0, 2), dropshadow(gaussian, #000000, 3, 0, 0, 1);"
                       prefHeight="40.0"
                       minHeight="40.0">
                <padding>
                    <Insets top="5.0" right="20.0" bottom="5.0" left="20.0"/>
                </padding>

                <!-- æ ¸å¿ƒæ’­æ”¾æŽ§åˆ¶æŒ‰é’®ç»„ï¼šä¸Šä¸€é¦–ã€åŽé€€ã€æ’­æ”¾/æš‚åœã€å¿«è¿›ã€ä¸‹ä¸€é¦– -->
                <HBox fx:id="playControlBox"
                      spacing="8.0"
                      alignment="CENTER"
                      StackPane.alignment="CENTER"
                      layoutX="-40.0">
                    <Button fx:id="prevMediaBtn"
                            prefWidth="40.0"
                            prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                                   -fx-border-width: 0;
                                   -fx-cursor: hand;
                                   -fx-padding: 0;
                                   -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                    <Button fx:id="rewindBtn"
                            prefWidth="40.0"
                            prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                                   -fx-border-width: 0;
                                   -fx-cursor: hand;
                                   -fx-padding: 0;
                                   -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                    <Button fx:id="playPauseBtn"
                            prefWidth="50.0"
                            prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                                   -fx-border-width: 0;
                                   -fx-cursor: hand;
                                   -fx-padding: 0;
                                   -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                    <Button fx:id="forwardBtn"
                            prefWidth="40.0"
                            prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                                   -fx-border-width: 0;
                                   -fx-cursor: hand;
                                   -fx-padding: 0;
                                   -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                    <Button fx:id="nextMediaBtn"
                            prefWidth="40.0"
                            prefHeight="30.0"
                            alignment="CENTER"
                            style="-fx-background-color: #363636;
                                   -fx-border-width: 0;
                                   -fx-cursor: hand;
                                   -fx-padding: 0;
                                   -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>
                </HBox>

                <!-- æ’­æ”¾å€é€Ÿè°ƒæ•´æŒ‰é’®ï¼šç‚¹å‡»å¼¹å‡ºå€é€Ÿé€‰æ‹©èœå• -->
                <Button fx:id="speedBtn"
                        prefWidth="60.0"
                        prefHeight="30.0"
                        alignment="CENTER"
                        StackPane.alignment="CENTER_LEFT"
                        layoutX="80.0"
                        style="-fx-background-color: #363636;
                               -fx-text-fill: #ffffff;
                               -fx-font-family: 'Microsoft YaHei';
                               -fx-font-size: 13px;
                               -fx-background-radius: 6px;
                               -fx-cursor: hand;
                               -fx-padding: 0 10px;
                               -fx-border-width: 0;
                               -fx-effect: dropshadow(gaussian, #000000, 2, 0, 0, 1);"/>

                <!-- éŸ³é‡è°ƒèŠ‚æ»‘å—å®¹å™¨ï¼šæŽ§åˆ¶åª’ä½“æ’­æ”¾éŸ³é‡å¤§å° -->
                <HBox alignment="CENTER_RIGHT"
                      StackPane.alignment="CENTER_RIGHT"
                      style="-fx-background-radius: 3px;"
                      prefWidth="100.0"
                      maxWidth="100.0">
                    <children>
                        <Slider fx:id="volumeSlider"
                                min="0.0"
                                max="1.0"
                                value="0.5"
                                prefWidth="100.0"
                                style="-fx-padding: 0 0 0 0;"/>
                    </children>
                </HBox>
            </StackPane>
        </VBox>
    </bottom>
</BorderPane>